{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","filterInput","onChange","handleFilterChange","PersonForm","newName","handleNameChange","newNum","handleNumChange","type","onClick","handleFormSubmit","Person","name","num","handleDelete","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","error","style","baseUrl","axios","get","then","response","data","personObject","post","id","delete","newObject","put","App","useState","persons","setPersons","setNewName","setNewNum","showAll","setShowAll","setNewFilter","notification","setNotification","setError","useEffect","personServices","namesThatMatch","filter","person","toLowerCase","includes","handleCreate","concat","catch","setTimeout","handleUpdate","index","personToUpdate","changedPerson","number","window","confirm","map","event","target","preventDefault","namesToCompare","found","indexOf","deletedPerson","find","element","newPersons","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.638baf6d.chunk.js","sourcesContent":["function Filter(props){\r\n    return ( \r\n    <p> filter shown with: <input value={props.filterInput} onChange={props.handleFilterChange}/> </p>\r\n    )\r\n}\r\n\r\nexport default Filter","function PersonForm (props) { \r\n  return ( \r\n<form> \r\n        <div>\r\n          name: <input value= {props.newName} onChange={props.handleNameChange}/>\r\n          </div>\r\n          <div>\r\n          number: <input value= {props.newNum} onChange= {props.handleNumChange} />\r\n        </div>\r\n        <div>\r\n        <button type=\"submit\" onClick= {props.handleFormSubmit}> add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","function Person(props) {\r\n    return (\r\n      <li> {props.name}: {props.num} - <button onClick= {props.handleDelete}> Delete </button> </li> \r\n    )\r\n  }\r\n\r\nexport default Person","const Notification = ({ message, error }) => {\r\nlet notificationStyle = {\r\n  color: \"green\",\r\n  background: \"lightgrey\",\r\n  fontSize: 20,\r\n  borderStyle: \"solid\",\r\n  borderRadius: 5,\r\n  padding: 10,\r\n  marginBottom: 10,\r\n    }\r\n    if (error)  {\r\n        notificationStyle = {...notificationStyle, color: \"red\"} \r\n    } \r\n    if (message) { \r\n    return (<div style={notificationStyle}> {message } </div>) \r\n    }\r\n    else return null\r\n}\r\n\r\nexport default Notification","import axios from \"axios\"\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = (personObject) => {\r\n    return axios.post(baseUrl, personObject).then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\r\n}\r\nexport default {getAll, create, del, update}","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport Person from \"./components/Person\"\nimport Notification from \"./components/Notification\"\nimport personServices from \"./services/persons\"\n\nfunction App() {\n  \n  const [ persons, setPersons ] = useState ([])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ showAll, setShowAll ] = useState (true)\n  const [ filterInput, setNewFilter] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ error, setError ] = useState(false)\n\n  const hook = () => {\n    personServices.getAll()\n    .then (data => {\n      setPersons(data)\n    })\n  }\n\n  useEffect(hook, [])\n  \n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumChange = event => {\n    setNewNum(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value)\n    setShowAll(false)\n  }  \nconst namesThatMatch = showAll? persons : persons.filter(person => person.name.toLowerCase().includes(filterInput.toLowerCase()))\n    \n  const handleFormSubmit = event => {\n    event.preventDefault()\n    const namesToCompare = persons.map (person => person.name.toLowerCase())\n    const personObject = {\n      name: newName,\n      number: newNum\n    }\n    \n    const found = namesToCompare.indexOf(newName.toLowerCase()) \n    \n  found === -1 ? handleCreate(personObject) : handleUpdate(found, newNum)\n    setNewNum(\"\")\n    setNewName(\"\")\n  }\n\n  const handleCreate = (personObject) => {\n    personServices.create(personObject)\n    .then(data => setPersons(persons.concat(data)))\n    .catch (error => {\n      setError(true)\n      setNotification(`${error.response.data.error}`)\n      setTimeout(() => {\n        setNotification(null)\n        setError(false) \n      }, 5000) \n      \n    })\n  }\n\n\n  const handleDelete= (id) => {\n    const deletedPerson = persons.find(element => element.id === id)\n    if (window.confirm(`Do you really want to delete this ${deletedPerson.name}?`)) { \n    personServices.del(id)\n    const newPersons = persons.filter( n => n.id !== id)\n     setPersons (newPersons)\n     setNotification(`deleted ${deletedPerson.name} successfully`)\n     setTimeout(() => setNotification(null), 5000) \n    }\n  }\n  \n  const handleUpdate = (index, newNum) => {\n    const personToUpdate = persons[index]\n    const changedPerson = {...personToUpdate, number: newNum} \n    if (window.confirm (`${personToUpdate.name} is already added to the phonebook, update the number?`)) {\n      personServices.update(changedPerson.id, changedPerson).then (data => { \n        setPersons (persons.map (person => person.id !== changedPerson.id ? person : data))\n        setNotification(`${changedPerson.name} number was updated`)\n        setTimeout(() => setNotification(null), 5000) \n      })\n      .catch (error => {\n        setError(true)\n        setPersons (persons.filter(person => person.id !== changedPerson.id))\n        setNotification(`information of ${changedPerson.name} was already deleted from the server`)\n        setTimeout(() => {\n          setNotification(null)\n          setError(false) \n        }, 5000) \n        \n      })\n        \n    }\n  }\n  return (\n    <div>\n      <h2> PhoneBook </h2>\n      <Notification message={notification} error={error}/>\n      <Filter filterInput={filterInput} handleFilterChange={handleFilterChange}/>\n      <h3> Add a new contact</h3>\n      <PersonForm \n      newNum={newNum} \n      newName={newName} \n      handleNameChange={handleNameChange} \n      handleNumChange={handleNumChange} \n      handleFormSubmit= {handleFormSubmit}\n      />\n       <h3> Numbers </h3> \n       <ul> \n       {namesThatMatch.map(person => \n       <Person \n       key={person.id} \n       name={person.name} \n       num={person.number} \n       handleDelete={() => handleDelete(person.id)} /> )}\n       </ul> \n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}